CREATE TABLE Game (
	match_id int NOT NULL AUTO_INCREMENT,
    white_id int NOT NULL REFERENCES Account(id),
    black_id int NOT NULL REFERENCES Account(id),
    turn_num int,
    white_in BOOLEAN,
    black_in BOOLEAN, 
    white_username varchar(15),
    black_username varchar(15),
	PRIMARY KEY(match_id)
);

//added board_json to table.
ALTER TABLE `db309M13`.`Game` 
ADD COLUMN `board_json` CHAR NULL AFTER `black_username`;

//11/11/2014: Changing the name of match_id to game_id. That was an oversight, when the table was originally going to be called 'Match'
ALTER TABLE `db309M13`.`Game` 
CHANGE COLUMN `match_id` `game_id` INT(11) NOT NULL AUTO_INCREMENT ;

//11/17/2014
ALTER TABLE `db309M13`.`Game` 
ENGINE = InnoDB ;

ALTER TABLE `db309M13`.`Game` 
ADD INDEX `white_id_idx` (`white_id` ASC),
ADD INDEX `black_id_idx` (`black_id` ASC);
ALTER TABLE `db309M13`.`Game` 
ADD CONSTRAINT `white_id`
  FOREIGN KEY (`white_id`)
  REFERENCES `db309M13`.`Account` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
ADD CONSTRAINT `black_id`
  FOREIGN KEY (`black_id`)
  REFERENCES `db309M13`.`Account` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
