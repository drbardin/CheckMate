// Part A;
// Done By Cody Bone;



$MySQL:> connect;

$MySQL:> drop table Enrollment;
$MySQL:> drop table Offering;
$MySQL:> drop table Course;
$MySQL:> drop table Student;
$MySQL:> drop table Instructor;
$MySQL:> drop table Person;

// Item1;
$MySQL:> create table Person (
Name char (20),
ID char (9) not null,
Address char (30),
DOB date,
Primary key (ID));

// Item2;
$MySQL:> create table Instructor (
InstructorID char (9) not null,
Rank char (12),
Salary integer,
Primary key (InstructorID),
Foreign key (InstructorID) references Person (ID));

// Item3;
$MySQL:> create table Student (
StudentID char (9) not null,
Classification char (10),
GPA double,
MentorID char (9) references Instructor (InstructorID),
Foreign Key(StudentID) references Person (ID),
CreditHours integer);

// Item4;
$MySQL:> create table Course (
CourseCode char (6) not null,
CourseName char (50),
PreReq char (6));

// Item5;
$MySQL:> create table Offering (
CourseCode char (6) not null,
SectionNo integer not null,
InstructorID char (9) not null,
Primary key (CourseCode, SectionNo),
Foreign Key (InstructorID) references Instructor (InstructorID));

// Item6;
$MySQL:> create table Enrollment (
CourseCode char(6) NOT NULL,
SectionNo int NOT NULL,
StudentID char(9) NOT NULL references Student,
Grade char(4) NOT NULL,
primary key (CourseCode,StudentID),
foreign key (CourseCode, SectionNo) references Offering);

// Part B load;
// Item7;
$MySQL:> load | Person | ComS363/UniversityDatasets/University_Dataset.xml;

// Item8;
$MySQL:> load | Instructor |  ComS363/UniversityDatasets/University_Dataset.xml;

// Item9;
$MySQL:> load | Student |  ComS363/UniversityDatasets/University_Dataset.xml;

// Item10;
$MySQL:> load | Course |  ComS363/UniversityDatasets/University_Dataset.xml;

// Item11;
$MySQL:> load | Offering |  ComS363/UniversityDatasets/University_Dataset.xml;

// Item12;
$MySQL:> load | Enrollment |  ComS363/UniversityDatasets/University_Dataset.xml;

// Part C;
// Part13;
$MySQL:> select S.StudentID, S.MentorID
from Student S
where S.GPA >3.8 and (S.Classification="junior" or S.Classification="senior");

// Part14;
$MySQL:> select distinct E.CourseCode, E.SectionNo
from Enrollment E, Student S
where S.Classification="sophomore" and E.StudentID=S.StudentID;

// Part15;
$MySQL:> select P.Name, I.Salary
from Student S, Instructor I, Person P
where S.Classification="freshman" and 
S.MentorID=I.InstructorID and I.InstructorID=P.ID;

// Part16;
$MySQL:> select sum(I.Salary) as sumsalary
from Instructor I
where I.InstructorID not in (select O.InstructorID from Offering O);


// Part17;
$MySQL:> select P.Name, P.DOB
from Person P
where Year(P.DOB)=1976;

// Part18;
$MySQL:> select P.Name, I.Rank
from Person P, Instructor I
where P.ID=I.InstructorID and I.InstructorID not in 
(select S.MentorID from Student S union select O.InstructorID from Offering O);


// Part19;
$MySQL:> select P.ID, P.Name, P.DOB
from Person P
where Min(P.DOB);


// Part20;
$MySQL:> select P.Name, P.DOB, P.ID
from Person P
where P.ID not in (select I.InstructorID from Instructor I union select S.StudentID from Student S);

// Part21;
$MySQL:> select P.Name, count(*)
from Person P, Student S
where P.ID=S.MentorID;

// Part22;

// Part23;

// Part24;
$MySQL:> select S.StudentID, S.MentorID
from Student S, Enrollment E, Offering O
where S.StudentID=E.StudentID and E.CourseCode=O.CourseCode and S.MentorID=O.InstructorID;

// Part25;
$MySQL:> select S.StudentID, S.CreditHours, P.Name
from Student S, Person P
where S.StudentID=P.ID and S.Classification="freshman" and Year(P.DOB)<=1976;

// Part26;
$MySQL:> insert into Person (Name, ID, Address, DOB)
values("Briggs Jason", 480293439, "215, North Hyland Avenue", 19750115);

$MySQL:> insert into Student (StudentID, Classification, GPA, CreditHours, MentorID)
values(480293439, "Junior", 3.48, 75, 201586985);

$MySQL:> insert into Enrollment (CourseCode, SectionNo, StudentID, Grade)
value("CS311", 2, 480293439, "A");

$MySQL:> insert into Enrollment (CourseCode, SectionNo, StudentID, Grade)
value("CS330", 1, 480293439, "A-");

$MySQL:> select *
from Person P
where P.Name="Briggs Jason";

$MySQL:> select *
from Student S
where S.StudentID=480293439;

$MySQL:> select *
from Enrollment E
where E.StudentID=480293439;

// Part27;
$MySQL:> delete from Enrollment
where GPA < .5;

$MySQL:> delete from Student
where GPA <.5;

$MySQL:> Select *
from Student S
where S.GPA < .5;

// Part28;
$MySQL:> select P.Name, I.Salary
from Instructor I, Person P
where I.InstructorID = P.ID and P.Name = "Ricky Ponting";

$MySQL:> select P.Name, I.Salary
from Instructor I, Person P
where I.InstructorID = P.ID and P.Name = "Darren Lehmann";

// Part29;
$MySQL:> insert into Person (Name, ID, Address, DOB)
values("Trevor Horns", 000957303, "23 Canberra Street", 19641123);

$MySQL:>select *
from Person P
where P.Name = "Trevor Horns";

// Part30  I tried this one and it cause the system to crash.  I can't figure it out;



$MySQL:> disconnect;
